<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paso 4: El Referente (Est√°ndar) - SIED</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/tutorial.css">
  <link rel="stylesheet" href="css/components.css">
  <style>
    .estandar-display {
      background: rgba(102, 126, 234, 0.05);
      border-left: 6px solid var(--primary-color);
      padding: 30px;
      border-radius: 0 20px 20px 0;
      font-size: 1.15rem;
      line-height: 1.8;
      color: var(--theme-text-primary);
      margin-bottom: 30px;
      position: relative;
    }

    .estandar-display::before {
      content: '‚Äú';
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 4rem;
      color: var(--primary-color);
      opacity: 0.1;
      font-family: serif;
    }

    body.dark-mode .estandar-display {
      background: rgba(139, 157, 255, 0.1);
      border-left-color: #8b9dff;
    }
  </style>
</head>

<body class="dark-mode">

  <div class="theme-toggle" onclick="document.body.classList.toggle('dark-mode')">
    <span class="theme-toggle-icon">üåì</span>
    <span class="theme-toggle-text">Modo Visual</span>
  </div>

  <div class="tutorial-layout">
    <!-- Panel Izquierdo: Orientaci√≥n T√©cnica -->
    <aside class="panel-tutorial panel-tecnico">
      <h3>üß≠ Br√∫jula T√©cnica</h3>
      <div class="tutorial-content">
        <span class="badge badge-primary" style="margin-bottom: 16px;">Paso 4 de 8</span>

        <h4>El Est√°ndar como Referente</h4>
        <p>Los est√°ndares de aprendizaje son descripciones del desarrollo de la competencia en niveles de creciente
          complejidad. Son referentes comunes para ver qu√© tan cerca o lejos est√°n los estudiantes del nivel esperado.
        </p>

        <div class="alert alert-info" style="margin-top: 24px;">
          <div class="alert-message">
            <strong>üí° Importante:</strong> El est√°ndar no es para el estudiante (todav√≠a), es para tu mirada docente.
            Te dice qu√© buscar en las evidencias que recoger√°s.
          </div>
        </div>

        <h4>Uso Pedag√≥gico:</h4>
        <ul style="margin-top: 15px;">
          <li>Define el "techo" de la evaluaci√≥n.</li>
          <li>Permite identificar si un estudiante est√° en inicio, proceso o logro.</li>
          <li>Asegura la equidad: evaluamos a todos bajo el mismo referente nacional.</li>
        </ul>
      </div>
    </aside>

    <!-- Contenido Central -->
    <main class="main-content">
      <div class="container">
        <header class="step-header-container">
          <span class="step-number-badge">Paso 4</span>
          <h1 class="step-title">El Referente Nacional</h1>
          <p class="step-subtitle">Visualiza el nivel de logro esperado para el ciclo seleccionado seg√∫n el CNEB.</p>
        </header>

        <div class="card">
          <div class="alert alert-success" style="margin-bottom: 32px;">
            <div class="alert-title">
              <span>üìã</span>
              Sincronizaci√≥n Autom√°tica
            </div>
            <div class="alert-message">
              Hemos seleccionado el est√°ndar oficial del CNEB seg√∫n el <strong>√Årea</strong> y el <strong>Ciclo</strong>
              que registraste en los pasos previos.
            </div>
          </div>

          <h3>üèÅ Nivel de Logro Esperado</h3>
          <p style="margin-bottom: 20px; opacity: 0.8;">Este es el referente que guiar√° tu mirada diagn√≥stica:</p>

          <div id="estandar-container" class="estandar-display">
            <!-- Cargado por app.js -->
            Cargando est√°ndar oficial...
          </div>

          <textarea id="estandar" style="display:none;"></textarea> <!-- Hidden para compatibilidad con app.js -->

          <div class="alert alert-warning">
            <div class="alert-message">
              <strong>Reflexi√≥n Docente:</strong> Al leer este est√°ndar, preg√∫ntate: ¬øQu√© acciones concretas demuestran
              que mis estudiantes est√°n logrando esto? Estas acciones ser√°n tus <em>Criterios de Evaluaci√≥n</em> m√°s
              adelante.
            </div>
          </div>

          <button class="btn-primary" onclick="irASituacion()">
            üíæ Confirmar Referente y Dise√±ar Situaci√≥n
          </button>
        </div>
      </div>
    </main>

    <!-- Panel Derecho -->
    <aside class="panel-tutorial panel-real">
      <div class="ia-badge">‚ú® Pensamiento Alternativo</div>
      <h3>üçé Voz Docente</h3>
      <div class="tutorial-content">
        <span class="badge badge-warning" style="margin-bottom: 16px;">Reflexi√≥n Cr√≠tica</span>

        <p><strong>El Error Com√∫n:</strong> "El est√°ndar es muy alto para mis alumnos, mejor uso uno de primaria."</p>

        <p style="margin-top: 15px;"><strong>El Cambio de Enfoque:</strong> "No bajes el est√°ndar. Mant√©n la meta alta
          pero dise√±a andamios (apoyos) para que lleguen. Si un alumno de 3¬∞ est√° en nivel de primaria, el est√°ndar me
          sirve para ver exactamente qu√© le falta fortalecer."</p>

        <div class="alert alert-info" style="margin-top: 24px;">
          <div class="alert-title">üéØ Meta Docente</div>
          <div class="alert-message">
            Usar el est√°ndar como una luz que ilumina las brechas de aprendizaje, no como una pared que excluye
            estudiantes.
          </div>
        </div>
      </div>
    </aside>
  </div>

  <script src="js/components.js"></script>
  <script src="js/app.js"></script>
  <script>
    window.onload = () => {
      if (typeof updateSteps === 'function') updateSteps(4, 8);

      // Sincronizar el contenido visual con el script app.js
      cargarEstandarAutomatico();
      const val = document.getElementById("estandar").value;
      if (val) {
        document.getElementById("estandar-container").innerText = val;
      }

      if (typeof cargarTutorial === 'function') cargarTutorial();
    };
  </script>
</body>

</html>