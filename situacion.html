<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paso 5: Situaci√≥n Significativa - SIED</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/tutorial.css">
  <link rel="stylesheet" href="css/components.css">
  <style>
    .ai-suggestion-box {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
      border: 1px dashed var(--primary-color);
      padding: 24px;
      border-radius: 16px;
      margin-bottom: 24px;
      position: relative;
    }

    .ai-suggestion-box::after {
      content: '‚ú® Sugerencia de la IA';
      position: absolute;
      top: -12px;
      right: 20px;
      background: var(--primary-color);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    textarea#situacion {
      min-height: 250px;
      font-size: 1.05rem;
      line-height: 1.6;
      border: 1px solid var(--theme-border);
      background: var(--theme-card-bg);
      color: var(--theme-text-primary);
    }

    body.dark-mode textarea#situacion {
      background: rgba(30, 30, 46, 0.5);
    }
  </style>
</head>

<body class="dark-mode">

  <div class="theme-toggle" onclick="document.body.classList.toggle('dark-mode')">
    <span class="theme-toggle-icon">üåì</span>
    <span class="theme-toggle-text">Modo Visual</span>
  </div>

  <div class="tutorial-layout">
    <!-- Panel Izquierdo: Orientaci√≥n T√©cnica -->
    <aside class="panel-tutorial panel-tecnico">
      <h3>üß≠ Br√∫jula T√©cnica</h3>
      <div class="tutorial-content">
        <span class="badge badge-primary" style="margin-bottom: 16px;">Paso 5 de 8</span>

        <h4>Dise√±ar la Situaci√≥n</h4>
        <p>Una situaci√≥n es significativa cuando plantea un <strong>reto o desaf√≠o</strong> que moviliza las
          competencias de los estudiantes. Debe ser aut√©ntica, es decir, similar a como ocurre en la vida real.</p>

        <div class="alert alert-info" style="margin-top: 24px;">
          <div class="alert-message">
            <strong>üí° Componentes clave:</strong>
            <ul style="margin-top: 10px; padding-left: 20px;">
              <li><strong>Contexto:</strong> Lugar, tiempo y circunstancias.</li>
              <li><strong>Reto:</strong> Una pregunta o tarea compleja.</li>
              <li><strong>Producto esperado:</strong> Lo que el estudiante crear√° para demostrar su competencia.</li>
            </ul>
          </div>
        </div>

        <h4>El Enfoque 2026:</h4>
        <p>Aseg√∫rate de que la situaci√≥n no sea solo te√≥rica. Con√©ctala con los problemas locales (sequ√≠a, econom√≠a,
          identidad) que identificaste al inicio.</p>
      </div>
    </aside>

    <!-- Contenido Central -->
    <main class="main-content">
      <div class="container">
        <header class="step-header-container">
          <span class="step-number-badge">Paso 5</span>
          <h1 class="step-title">Situaci√≥n Significativa</h1>
          <p class="step-subtitle">Crea el escenario pedag√≥gico donde tus estudiantes movilizar√°n sus retos y saberes.
          </p>
        </header>

        <div class="card">
          <div class="ai-suggestion-box">
            <p style="opacity: 0.8; font-size: 0.95rem;">Hemos redactado una propuesta basada en tu √°rea y el contexto
              que registraste. Puedes editarla libremente para que se ajuste mejor a tu grupo:</p>
          </div>

          <div class="form-group">
            <label for="situacion">Redacci√≥n de la Situaci√≥n:</label>
            <textarea id="situacion" placeholder="Describe aqu√≠ el reto que plantear√°s a tus estudiantes..."></textarea>
          </div>

          <div class="alert alert-warning" style="margin-top: 20px;">
            <div class="alert-message">
              <strong>üí° Consejo:</strong> Redacta el reto en forma de pregunta: <em>¬øC√≥mo podr√≠amos...? ¬øDe qu√©
                manera...?</em> Esto despierta la curiosidad y la necesidad de investigar.
            </div>
          </div>

          <button class="btn-primary" onclick="irAEvidencias()">
            üíæ Guardar Dise√±o y Definir Evidencias
          </button>
        </div>
      </div>
    </main>

    <!-- Panel Derecho -->
    <aside class="panel-tutorial panel-real">
      <div class="ia-badge">‚ú® Caso Pr√°ctico</div>
      <h3>üçé Ejemplo Real</h3>
      <div class="tutorial-content">
        <span class="badge badge-warning" style="margin-bottom: 16px;">Ciencias Sociales</span>

        <p><strong>Contexto:</strong> Comunidad con alta inflaci√≥n de alimentos.</p>

        <p style="margin-top: 15px;"><strong>La Situaci√≥n:</strong> "Los estudiantes asumen el rol de 'Asesores de
          Canasta Familiar'. Deben analizar por qu√© suben los precios y proponer un men√∫ nutritivo y econ√≥mico para una
          semana, explicando sus decisiones basadas en datos econ√≥micos locales."</p>

        <div class="alert alert-info" style="margin-top: 24px;">
          <div class="alert-title">üéØ ¬øPor qu√© es significativa?</div>
          <div class="alert-message">
            Porque afecta sus mesas cada d√≠a. No es un ejercicio de libro, es un problema real que requiere usar
            historia, geograf√≠a y econom√≠a.
          </div>
        </div>
      </div>
    </aside>
  </div>

  <script src="js/components.js"></script>
  <script src="js/app.js"></script>
  <script>
    window.onload = () => {
      if (typeof updateSteps === 'function') updateSteps(5, 8);

      // La funci√≥n sugerirSituacionAprendizaje() ya llena el textarea #situacion
      sugerirSituacionAprendizaje();

      if (typeof cargarTutorial === 'function') cargarTutorial();
    };
  </script>
</body>

</html>